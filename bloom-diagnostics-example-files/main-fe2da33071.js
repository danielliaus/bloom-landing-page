!function(e){"use strict";function t(){document.querySelector("body").classList.add("pageIn")}function n(){_?imagesLoaded(document.querySelector(".hero"),{background:!0},function(){t(),setTimeout(function(){document.querySelector(".hero").classList.add("active")},800)}):S?(document.querySelector(".baccaSlider__slide:first-child").style.opacity=0,imagesLoaded(document.querySelector(".baccaSlider__slide:first-child .productDetailImg"),{background:!0},function(){t(),setTimeout(function(){document.querySelector(".baccaSlider__slide:first-child").style.opacity=1},800)})):T?imagesLoaded(document.querySelector(".editableContent__content"),{background:!0},function(){t()}):t()}function r(){var e=200;document.getElementsByTagName("body")[0].classList.contains("isMobile")&&(e=100),new Vivus("stand",{type:"async",duration:e,animTimingFunction:Vivus.EASE}),new Vivus("ico-plug",{type:"async",duration:e,animTimingFunction:Vivus.EASE}),new Vivus("ico-wind",{type:"async",duration:e,animTimingFunction:Vivus.EASE}),new Vivus("ico-angle",{type:"async",duration:e,animTimingFunction:Vivus.EASE}),new Vivus("ico-light",{type:"async",duration:e,animTimingFunction:Vivus.EASE})}function o(){if(document.querySelector(".quantity__plus")){var e=document.querySelector(".quantity__plus"),t=document.querySelector(".quantity__less"),n=document.getElementById("productQty");e.addEventListener("click",function(e){e.preventDefault;var t=n.value;n.value=parseInt(t)+1}),t.addEventListener("click",function(e){e.preventDefault;var t=n.value;n.value=parseInt(t)-1})}}function i(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function s(e,t){return t={exports:{}},e(t,t.exports),t.exports}function a(){for(var e=document.getElementById("baccaContainer"),t=document.querySelector(".footer"),n=document.querySelector(".cartPreview"),r=document.querySelectorAll(".goToCheckOut.loggedIn, .navBar__logo, .product__button.button--left a, .footerLink, #featuresProducts a, .product--link"),o=document.querySelector(".navBar"),i=0;i<r.length;i++)r[i].addEventListener("click",function(r){r.preventDefault();var i=this.href;n.classList.contains("active")&&n.classList.remove("active"),setTimeout(function(){o&&(o.classList.remove("active"),o.classList.add("pageOut")),e.classList.add("pageOut"),t.classList.add("pageOut")},400),setTimeout(function(){window.location=i},800)})}function c(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function u(e){for(var t=document.querySelectorAll(e),n=document.querySelectorAll(".infoShipping__details"),r=function(e){t[e].addEventListener("click",function(r){var o=t[e].getAttribute("data-tab");if(t[e].classList.contains("current"))t[e].classList.remove("current"),document.getElementById(o).classList.remove("current");else{for(var i=0;i<t.length;i++)t[i].classList.remove("current"),n[i].classList.remove("current");t[e].classList.add("current"),document.getElementById(o).classList.add("current")}})},o=0;o<t.length;o++)r(o)}function l(){var e=document.querySelector(".hamburgerIcon"),t=document.querySelectorAll(".navBar__mobile, .navBar");e.addEventListener("click",function(n){if(e.classList.contains("open")){e.classList.remove("open");for(var r=0;r<t.length;r++)t[r].classList.remove("open")}else{e.classList.add("open");for(var o=0;o<t.length;o++)t[o].classList.add("open")}})}function d(){function e(){clearInterval(s)}function t(){r(i+1)}function n(){r(i-1)}function r(e){o[i].className="baccaSlider__slide",i=(e+o.length)%o.length,o[i].className="baccaSlider__slide showing"}document.querySelector(".baccaSlider__slide:nth-child(1)").classList.add("showing");var o=document.querySelectorAll("#baccaSlider .baccaSlider__slide"),i=0,s=setInterval(t,8e3),a=document.getElementById("baccaSlider__prev"),c=document.getElementById("baccaSlider__next");c.onclick=function(){e(),t(),document.querySelector(".baccaSlider__slide:nth-child(1)").removeAttribute("style")},a.onclick=function(){e(),n()}}function f(e,t,n){var r,o,i,s={now:Date.now||function(){return(new Date).getTime()}},a=null,c=0;n||(n={});var u=function(){c=n.leading===!1?0:s.now(),a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var l=s.now();c||n.leading!==!1||(c=l);var d=t-(l-c);return r=this,o=arguments,d<=0||d>t?(a&&(clearTimeout(a),a=null),c=l,i=e.apply(r,o),a||(r=o=null)):a||n.trailing===!1||(a=setTimeout(u,d)),i}}function h(e,t,n){function r(){i+=1/60;var t=i/s,c=a[n](t);t<1?(requestAnimFrame(r),window.scrollTo(0,o+(e-o)*c)):window.scrollTo(0,e)}var o=window.scrollY||document.documentElement.scrollTop,e=e||0,t=t||2e3,n=n||"easeOutSine",i=0,s=Math.max(.1,Math.min(Math.abs(o-e)/t,.8)),a={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};r()}function m(){$(".historyTable__row").on("click",function(e){e.preventDefault(),$(this).next(".historyDetails__row").slideToggle()})}function p(){_&&document.querySelector(".claim .btn").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("section.products").offsetTop;h(t,400,"easeInOutSine")})}function y(e,t){e.addEventListener("click",function(e){e.preventDefault(),h(t,800,"easeInOutQuint"),document.getElementsByTagName("body")[0].classList.contains("isMobile")&&(document.querySelector(".navBar__mobile").classList.remove("open"),document.querySelector(".hamburgerIcon").classList.remove("open"))})}function v(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,r){e[n]=r});return e}function b(){var e,t,n=document.querySelector("section.specs"),r=document.querySelector(".navBar"),o=f(function(){e=document.body.scrollTop,t=n.getBoundingClientRect().top,t<=60&&t>=-(n.clientHeight-60)?r.classList.add("navBar--positive"):r.classList.remove("navBar--positive")},500);window.addEventListener("scroll",o,!0)}var g=document.getElementsByTagName("body")[0],w=(document.documentElement,window.innerHeight),_=document.body.classList.contains("homepage"),S=document.body.classList.contains("hasCart"),T=document.getElementById("checkout_form_step_3"),E=document.querySelector(".wrapper.account"),L="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},q=s(function(e,t){!function(n,r){"object"==typeof t&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):n.ES6Promise=r()}(L,function(){function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){Y=e}function r(e){Q=e}function o(){return function(){return process.nextTick(l)}}function s(){return"undefined"!=typeof G?function(){G(l)}:u()}function a(){var e=0,t=new J(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}function u(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<X;e+=2){var t=te[e],n=te[e+1];t(n),te[e]=void 0,te[e+1]=void 0}X=0}function d(){try{var e=i,t=e("vertx");return G=t.runOnLoop||t.runOnContext,s()}catch(n){return u()}}function f(e,t){var n=arguments,r=this,o=new this.constructor(m);void 0===o[re]&&F(o);var i=r._state;return i?!function(){var e=n[i-1];Q(function(){return I(i,o,e,r._result)})}():B(r,o,e,t),o}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(m);return S(n,e),n}function m(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(t){return ae.error=t,ae}}function b(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function g(e,t,n){Q(function(e){var r=!1,o=b(n,t,function(n){r||(r=!0,t!==n?S(e,n):E(e,n))},function(t){r||(r=!0,q(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,q(e,o))},e)}function w(e,t){t._state===ie?E(e,t._result):t._state===se?q(e,t._result):B(t,void 0,function(t){return S(e,t)},function(t){return q(e,t)})}function _(e,n,r){n.constructor===e.constructor&&r===f&&n.constructor.resolve===h?w(e,n):r===ae?q(e,ae.error):void 0===r?E(e,n):t(r)?g(e,n,r):E(e,n)}function S(t,n){t===n?q(t,p()):e(n)?_(t,n,v(n)):E(t,n)}function T(e){e._onerror&&e._onerror(e._result),C(e)}function E(e,t){e._state===oe&&(e._result=t,e._state=ie,0!==e._subscribers.length&&Q(C,e))}function q(e,t){e._state===oe&&(e._state=se,e._result=t,Q(T,e))}function B(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ie]=n,o[i+se]=r,0===i&&e._state&&Q(C,e)}function C(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?I(n,r,o,i):o(i);e._subscribers.length=0}}function A(){this.error=null}function x(e,t){try{return e(t)}catch(n){return ce.error=n,ce}}function I(e,n,r,o){var i=t(r),s=void 0,a=void 0,c=void 0,u=void 0;if(i){if(s=x(r,o),s===ce?(u=!0,a=s.error,s=null):c=!0,n===s)return void q(n,y())}else s=o,c=!0;n._state!==oe||(i&&c?S(n,s):u?q(n,a):e===ie?E(n,s):e===se&&q(n,s))}function P(e,t){try{t(function(t){S(e,t)},function(t){q(e,t)})}catch(n){q(e,n)}}function k(){return ue++}function F(e){e[re]=ue++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(e,t){this._instanceConstructor=e,this.promise=new e(m),this.promise[re]||F(this.promise),K(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):q(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function R(e){return new O(this,e).promise}function j(e){var t=this;return new t(K(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function N(e){var t=this,n=new t(m);return q(n,e),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this[re]=k(),this._result=this._state=void 0,this._subscribers=[],m!==e&&("function"!=typeof e&&M(),this instanceof H?P(this,e):U())}function $(){var e=void 0;if("undefined"!=typeof L)e=L;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}e.Promise=H}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K=V,X=0,G=void 0,Y=void 0,Q=function(e,t){te[X]=e,te[X+1]=t,X+=2,2===X&&(Y?Y(l):ne())},W="undefined"!=typeof window?window:void 0,z=W||{},J=z.MutationObserver||z.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3),ne=void 0;ne=Z?o():J?a():ee?c():void 0===W&&"function"==typeof i?d():u();var re=Math.random().toString(36).substring(16),oe=void 0,ie=1,se=2,ae=new A,ce=new A,ue=0;return O.prototype._enumerate=function(){for(var e=this,t=this.length,n=this._input,r=0;this._state===oe&&r<t;r++)e._eachEntry(n[r],r)},O.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=v(e);if(o===f&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===H){var i=new n(m);_(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},O.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===oe&&(this._remaining--,e===se?q(r,n):this._result[t]=n),0===this._remaining&&E(r,this._result)},O.prototype._willSettleAt=function(e,t){var n=this;B(e,void 0,function(e){return n._settledAt(ie,t,e)},function(e){return n._settledAt(se,t,e)})},H.all=R,H.race=j,H.resolve=h,H.reject=N,H._setScheduler=n,H._setAsap=r,H._asap=Q,H.prototype={constructor:H,then:f,"catch":function(e){return this.then(null,e)}},H.polyfill=$,H.Promise=H,H})});q.polyfill();!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function c(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if("string"==typeof e)this.url=e;else{if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function p(e){var t=new o;return e.split("\r\n").forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype["delete"]=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){var n=this;for(var r in this.map)n.map.hasOwnProperty(r)&&e.call(t,n.map[r],r,n)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];y.redirect=function(e,t){if(S.indexOf(t)===-1)throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=h,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var o=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:p(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new y(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&v.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var B=(self.fetch.bind(self),function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];this.shooters=document.querySelectorAll(n),this.modalContainer=document.querySelector(e),this.modalCloseLayers=document.querySelectorAll(".modalOverlay__close"),this.modal=this.modalContainer.querySelector(".loginDialog"),this.cartPreview=document.querySelector(".cartPreview"),this.wrapper=document.querySelector(".wrapper"),this.footer=document.querySelector("footer"),this.othersModalsContainer=document.querySelectorAll(t)});B.prototype.init=function(){this.openRequest(),this.closeRequest()},B.prototype.openRequest=function(){for(var e=this,t=this.shooters,n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.preventDefault(),e.open()})},B.prototype.closeRequest=function(){for(var e=this,t=this.modalCloseLayers,n=0;n<t.length;n++)t[n].addEventListener("click",function(t){e.close()})},B.prototype.showModal=function(){var e=this.modalContainer,t=this.modal;e.classList.add("active"),t.classList.add("active")},B.prototype.open=function(){for(var e=this.othersModalsContainer,t=this,n=0;n<e.length;n++)e[n].classList.contains("active")&&(e[n].querySelector(".loginDialog").classList.remove("active"),e[n].classList.remove("active"));setTimeout(function(){var e=(this.modalContainer,this.modal,[t.cartPreview,t.wrapper,t.footer]);if(t.cartPreview.classList.contains("active"))for(var n=0;n<e.length;n++)e[n].classList.remove("active");t.showModal()},500)},B.prototype.close=function(){var e=this.modalContainer,t=this.modal;e.classList.remove("active"),t.classList.remove("active"),document.querySelector(".navBar").classList.remove("active")};var C=function(e){this.elements=document.querySelectorAll(e.elements),this.shooter=document.querySelectorAll(e.shooter),this.openClass=e.openClass,this.overlay=e.overlay,this.extras=function(){var e=document.querySelector(".cartLauncher"),t=document.querySelector(".hamburgerIcon"),n=document.querySelectorAll(".commonNav");e&&setTimeout(function(){for(var e=0;e<n.length;e++)n[e].classList.remove("open"),t.classList.remove("open")},600)},this.open=function(){for(var e=this,t=0;t<this.elements.length;t++)e.elements[t].classList.add(e.openClass)},this.close=function(){for(var e=this,t=0;t<this.elements.length;t++)e.elements[t].classList.remove(e.openClass)},this.togglefy=function(){for(var e=this,t=document.getElementById("backOverlay"),n=0;n<this.shooter.length;n++)e.shooter[n].addEventListener("click",function(e){e.preventDefault(),this.elements[0]&&this.elements[0].classList.contains(this.openClass)?(1==this.overlay&&t.classList.remove(this.openClass),this.close()):(1==this.overlay&&(t.style.pointerEvents="all",t.classList.add(this.openClass)),this.extras(),this.open())}.bind(e));1==this.overlay&&t.addEventListener("click",function(e){e.preventDefault(),t.classList.remove(this.openClass),t.style.pointerEvents="none",this.close()}.bind(this))}},A=function(e,t,n){this.addToCartButton=document.querySelectorAll(e),this.addToCartForm=document.getElementById(t),this.csrfToken=document.head.querySelector("[name=csrf-token]").content,this.addToCartToken=this.addToCartForm?this.addToCartForm.querySelector('[name="_token"]').getAttribute("value"):null,this.headerCount=document.querySelectorAll(n),this.cartCountUri="/cart/count",this.cartEmptyUri="/cart/empty",this.cartRemoveUri="/cart/remove",this.previewItems=document.querySelectorAll(".cartPreview .previewThumb")};A.prototype.fetchUrl=function(e,t,n,r){fetch(e,{method:n,credentials:"same-origin",body:r,headers:t}).then(function(e){if(e.status>=400){var t="There has been an error";throw new Error(t)}return e.text()}).then(function(e){this.fetchResponse(e),a();new B(".modalRegisterLogin",".modalLogin, .modalRegister",".goToCheckOut:not(.loggedIn)",".login").init()}.bind(this))},A.prototype.fetchResponse=function(e){""!=e?this.updateHeaderCount(e):this.updateHeaderCount("0"),this.addButtonDisabler(!1),this.updateCartPreview()},A.prototype.addButtonDisabler=function(e,t){if(void 0===t&&(t=null),null==t)var n=this.addToCartButton;else var n=this.addToCartButton[t];if(0==e)for(var r=0;r<n.length;r++)n[r].removeAttribute("style");else for(var o=0;o<n.length;o++)n[o].style.opacity=.3,n[o].style.pointerEvents="none"},A.prototype.updateCartPreview=function(){var e=this;fetch("/cart/preview",{method:"GET",credentials:"same-origin"}).then(function(e){if(e.status>=400){var t="There has been an error.";throw new Error(t)}return e.text()}).then(function(t){document.querySelector(".cartPreview__items").innerHTML=t;new B(".modalRegisterLogin",".modalLogin, .modalRegister",".goToCheckOut:not(.loggedIn)",".login").init(),new C({elements:".cartPreview, .wrapper, .footer, .commonNav",shooter:".cartPreview__close, .continueShopping",openClass:"active"}).togglefy();e.removeItemFromCartPreview()}.bind(this))},A.prototype.addEvent=function(e){var t=this,n=this.addToCartButton[e];n.addEventListener("click",function(r){r.preventDefault();var o=t.addToCartForm.action,i=t.addToCartForm,s=i.querySelector("#productId"),a=new Headers;a.append("X-CSRF-TOKEN",t.addToCartToken),n.getAttribute("data-product")&&(s.value=n.getAttribute("data-product"));var c=new FormData(i);t.addButtonDisabler(!0,e),t.fetchUrl(o,a,"POST",c),t.getCount(),t.openMobileCartPreview()})},A.prototype.addItem=function(){for(var e=this,t=this.addToCartButton,n=0;n<t.length;n++)e.addEvent(n)},A.prototype.openMobileCartPreview=function(){var e=document.querySelectorAll(".cartPreview, .wrapper, .footer, .commonNav");setTimeout(function(){if(document.getElementsByTagName("body")[0].classList.contains("isMobile"))for(var t=0;t<e.length;t++)e[t].classList.add("active")},400)},A.prototype.getCount=function(){return this.fetchUrl(this.cartCountUri,null,"GET",null)},A.prototype.emptyCart=function(){this.fetchUrl(this.cartEmptyUri,null,"GET",null)},A.prototype.updateHeaderCount=function(e){for(var t=this,n=0;n<this.headerCount.length;n++)t.headerCount[n].innerText=e},A.prototype.init=function(){this.addItem(),this.removeItemFromCartPreview(),this.updateShippingAmount()},A.prototype.removeItemFromCartPreviewListener=function(e){var t=document.querySelectorAll(".cartPreview .previewThumb"),n=new Headers;n.append("X-CSRF-TOKEN",this.csrfToken);var r=t[e].querySelector(".previewThumb__close").getAttribute("data-id");t[e].remove(),this.fetchUrl("/cart/remove/"+r,n,"POST",null)},A.prototype.removeItemFromCartPreview=function(){for(var e=this,t=document.querySelectorAll(".cartPreview .previewThumb"),n=function(n){t[n].querySelector(".previewThumb__close").addEventListener("click",function(t){e.removeItemFromCartPreviewListener(n)})},r=0;r<t.length;r++)n(r)},A.prototype.updateShippingAmount=function(){var e=document.getElementById("cartTotal");if(e){var t=document.getElementById("shippingTotal"),n=e.querySelector(".cartTotalAmount"),r=document.getElementById("cartSubTotal"),o=new Headers;o.append("X-CSRF-TOKEN",this.csrfToken),fetch("/cart/shipping/calculate/",{method:"POST",credentials:"same-origin",headers:o}).then(function(e){if(e.status>=400){var t="There has been an error";throw new Error(t)}return e.text()}).then(function(e){if(""!=e){t&&(t.innerText=Number(e).toFixed(2));var o=r.textContent.replace(",","").split(".")[0],i=Number(o)+Number(e);return n.innerText=c(i.toFixed(2)),!1}t.innerText="-"}.bind(this))}};var x=function(e){this.currencies=document.querySelectorAll(e)};x.prototype.change=function(){for(var e=this,t=this.currencies,n=function(n){t[n].addEventListener("click",function(r){r.preventDefault();var o=t[n].getAttribute("data-currency"),i=t[n].getAttribute("data-symbol");e.changeRequest(o,i)})},r=0;r<t.length;r++)n(r)},x.prototype.changeRequest=function(e,t){var n=new FormData,r=new Headers;r.append("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),n.append("currency",e),n.append("currencySymbol",t),fetch("/currency/"+e,{method:"POST",credentials:"same-origin",body:n,headers:r}).then(function(e){if(e.status>=400){var t="There has been an error requesting the currency change";throw new Error(t)}return e}).then(function(e){document.body.classList.add("preReload"),setTimeout(function(){location.reload()},400)}.bind(this))};var I=function(){this.submitBtn=document.getElementById("purchase_step_1"),this.formStep1=document.getElementById("checkout_form_step_1")};I.prototype.submitStep1=function(){var e=this,t=this.submitBtn;t.addEventListener("click",function(t){t.preventDefault(),e.createUserandAddress()})},I.prototype.createUserandAddress=function(){var e=this.formStep1.getAttribute("action"),t=new FormData(this.formStep1),n=new Headers;n.append("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),fetch(e,{method:"post",credentials:"same-origin",body:t,headers:n,redirect:"follow"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(e){})["catch"](function(e){})},I.prototype.init=function(){this.submitStep1()};var P=function(e,t){this.form=document.getElementById(e),this.formAction=this.form.getAttribute("action"),this.sendBtnElem=this.form.querySelector('button[type="submit"]'),this.sendBtnText=this.form.querySelector(".btn__text"),this.redirectTo=t};P.prototype.init=function(){this.loginListener()},P.prototype.disableButton=function(){this.sendBtnText.innerText="Logging in...",this.sendBtnText.classList.add("disabled"),this.sendBtnElem.classList.add("disabled")},P.prototype.enableButton=function(){this.sendBtnText.innerText="Sign in",this.sendBtnText.classList.remove("disabled"),this.sendBtnElem.classList.remove("disabled")},P.prototype.login=function(){var e=this;this.disableButton();var t=this.form,n=new Headers;n.append("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),fetch(this.formAction,{method:"POST",credentials:"same-origin",body:new FormData(this.form),headers:n}).then(function(t){return 208==t.status?(e.form.querySelector("#email").classList.add("input--error"),e.form.querySelector("#password").classList.add("input--error"),setTimeout(function(){for(var t=e.form.querySelectorAll(".formErrorMessage"),n=0;n<t.length;n++)t[n].style.height="40px";e.enableButton()},1e3)):(document.body.classList.add("preReload"),setTimeout(function(){window.location=e.redirectTo},360)),t.json()}).then(function(e){e.email&&(t.querySelector(".emailError").innerText=e.email),e.password&&(t.querySelector(".passwordError").innerText=e.password),e.name})},P.prototype.loginListener=function(){var e=this;this.form.addEventListener&&this.form.addEventListener("submit",function(t){t.preventDefault(),e.login()},!1)};var k=function(e,t){this.form=document.getElementById(e),this.formAction=this.form.getAttribute("action"),this.sendBtnElem=this.form.querySelector('button[type="submit"]'),this.sendBtnText=this.form.querySelector(".btn__text"),this.redirectTo=t};k.prototype.init=function(){this.loginListener()},k.prototype.disableButton=function(){this.sendBtnText.innerText="Registering...",this.sendBtnText.classList.add("disabled"),this.sendBtnElem.classList.add("disabled")},k.prototype.enableButton=function(){this.sendBtnText.innerText="Sign Up",this.sendBtnText.classList.remove("disabled"),this.sendBtnElem.classList.remove("disabled")},k.prototype.login=function(){var e=this;this.disableButton();var t=this.form,n=new Headers;n.append("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),fetch(this.formAction,{method:"POST",credentials:"same-origin",body:new FormData(this.form),headers:n}).then(function(t){return 208==t.status?setTimeout(function(){e.enableButton()},1e3):(document.body.classList.add("preReload"),setTimeout(function(){window.location=e.redirectTo},360)),t.json()}).then(function(e){e.name&&(t.querySelector("#name").classList.add("input--error"),t.querySelector(".nameError").innerText=e.email,t.querySelector(".nameError").style.height="40px"),e.last_name&&(t.querySelector("#lastname").classList.add("input--error"),t.querySelector(".lastnameError").innerText=e.email,t.querySelector(".lastnameError").style.height="40px"),e.email&&(t.querySelector("#email").classList.add("input--error"),
t.querySelector(".emailError").innerText=e.email,t.querySelector(".emailError").style.height="40px"),e.password&&(t.querySelector("#password").classList.add("input--error"),t.querySelector("#password-confirm").classList.add("input--error"),t.querySelector(".passwordConfirmError").innerText=e.password,t.querySelector(".passwordConfirmError").style.height="40px")})},k.prototype.loginListener=function(){var e=this;this.form.addEventListener&&this.form.addEventListener("submit",function(t){t.preventDefault(),e.login()},!1)},Number.prototype.map=function(e,t,n,r){return(this-e)*(r-n)/(t-e)+n};var F,O,D=0,R=Math.round(w),j=(document.querySelector(".mappedBackground"),document.querySelector(".backgroundMapperLayerTop")),N=document.body,M=f(function(){clearTimeout(O);var e=(document.documentElement||document.body.parentNode||document.body).scrollTop;e<R&&(F=e.map(D,R,1,0),j.style.opacity=F.toFixed(1)),N.classList.contains("disable-hover")||N.classList.add("disable-hover"),O=setTimeout(function(){N.classList.remove("disable-hover")},500)},30,!1);window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var U=function(){this.form=document.getElementById("checkout_form_step_3"),this.purchaseBtn=this.form.querySelector("#placePurchase")};U.prototype.purchase=function(){var e=this;this.purchaseBtn.addEventListener("click",function(t){t.preventDefault(),e.sendRequest()})},U.prototype.sendRequest=function(){function e(e,n){if(n.error)t.form.querySelector("#transactionErrors").innerText=n.error.message,t.purchaseBtn.disabled=!1;else{var r=n.id;t.addHiddenField(t.form,"stripeToken",r),t.form.submit()}}var t=this;this.purchaseBtn.disabled=!0,Stripe.card.createToken(this.form,e)},U.prototype.addHiddenField=function(e,t,n){var r=document.createElement("input");r.type="hidden",r.name=t,r.value=n,e.appendChild(r)};var H={onCompleteCall:function(){$(document).on("pjax:complete",function(){$(".loader").hide(),document.getElementById("ajaxContainer").classList.remove("hide");var e=new A(null,null,".nav__count");e.init()})},onCompleteCallToPurchase:function(){$(document).on("pjax:complete",function(){$(".loader").hide(),document.getElementById("ajaxContainer").classList.remove("hide");var e=new A(null,null,".nav__count");e.init();(new U).purchase()})},onSendCall:function(){$(document).on("pjax:send",function(){$(".loader").show(),document.getElementById("ajaxContainer").classList.add("hide"),h(0,400,"easeInOutSine")})},init:function(){var e=this;$(document).pjax(".buttonLink.ajaxLink","#ajaxContainer"),$(document).on("submit","#checkout_form_step_1",function(t){t.preventDefault(),$.pjax.submit(t,"#ajaxContainer"),e.onSendCall(),e.onCompleteCall()}),$(document).on("submit","#checkout_form_step_2",function(t){t.preventDefault(),$.pjax.submit(t,"#ajaxContainer"),e.onSendCall(),e.onCompleteCallToPurchase()})}},V={onCompleteCall:function(){$(document).on("pjax:complete",function(){$(".loader").hide(),document.getElementById("ajaxContainer").classList.remove("hide"),m()})},onSendCall:function(){$(document).on("pjax:send",function(){$(".loader").show(),document.getElementById("ajaxContainer").classList.add("hide"),h(0,400,"easeInOutSine")})},init:function(){$(document).on("click","a[data-pjax]",function(e){var t=$("div[data-pjax-container]");$.pjax.click(e,{container:t}),$(".accountMenu__li a").parent().addClass("text-disabled"),$(this).parent().removeClass("text-disabled")}),this.onSendCall(),this.onCompleteCall()}},K=function(e){this.form=document.getElementById(e),this.formAction=this.form.getAttribute("action"),this.sendBtnElem=this.form.querySelector('button[type="submit"]')};K.prototype.init=function(){this.updateListener()},K.prototype.validate=function(){function e(e){return!e||0===e.length}var t,n=document.getElementById("profileEmail"),r=document.getElementById("profileName"),o=document.getElementById("profileLastName"),i=document.getElementById("profileBirthday");if(e(n.value)&&(n.classList.add("input--error"),t=!0),e(r.value)&&(r.classList.add("input--error"),t=!0),e(o.value)&&(r.classList.add("input--error"),t=!0),!e(i.value)){var s=i.value,a=s.split(/\//),c=new Date([a[1],a[0],a[2]].join("/")).toString();"Invalid Date"==c&&(i.classList.add("input--error"),t=!0)}return t?(this.sendBtnElem.disabled=!1,!1):void this.update()},K.prototype.update=function(){var e=this,t=this.form,n=new Headers,r=document.querySelectorAll(".input--error");n.append("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content"));for(var o=0;o<r.length;o++)r[o].classList.remove("input--error");fetch(this.formAction,{method:"POST",credentials:"same-origin",body:new FormData(this.form),headers:n}).then(function(n){var r=e;200!=n.status?(t.style.opacity=0,setTimeout(function(){var e=document.createElement("p");e.classList.add("message");var t=document.createTextNode("There was a problem processing your request. Please try again.");e.appendChild(t),r.form.insertBefore(e,r.form.childNodes[14]),r.sendBtnElem.disabled=!1},400),setTimeout(function(){t.style.opacity=1},600)):(t.style.opacity=0,setTimeout(function(){var e=document.createElement("p");e.classList.add("message");var t=document.createTextNode("Your profile has been updated.");e.appendChild(t),r.form.insertBefore(e,r.form.childNodes[14]),r.sendBtnElem.disabled=!1},400),setTimeout(function(){t.style.opacity=1},600),setTimeout(function(){var e=document.querySelector(".message");e.style.opacity=0},2e3),setTimeout(function(){var e=document.querySelector(".message");e.parentNode.removeChild(e)},2600))})},K.prototype.updateListener=function(){var e=this;this.form.addEventListener&&this.form.addEventListener("submit",function(t){e.sendBtnElem.disabled=!0,t.preventDefault(),e.validate()},!1)};var X=(new C({elements:".cartPreview, .wrapper, .footer, .commonNav",shooter:".cartLauncher",openClass:"active"}).togglefy(),new C({elements:".cartPreview, .wrapper, .footer, .commonNav",shooter:".cartPreview__close, .continueShopping",openClass:"active"}).togglefy(),new C({elements:".currencySelector__currencies, .currencySelector .caret",shooter:".currencySelector",openClass:"active"}).togglefy(),new C({elements:".nav__item__sublinks",shooter:".profile__options",openClass:"active"}).togglefy(),document.querySelector(".cartPreview")),G=document.querySelector(".wrapper"),Y=document.querySelectorAll(".cartPreview, .wrapper, .footer, .commonNav");G.addEventListener("click",function(){if(X.classList.contains("active"))for(var e=0;e<Y.length;e++)Y[e].classList.remove("active")});var Q=function(e){this.form=document.getElementById(e),this.formAction=this.form.getAttribute("action"),this.sendBtnElem=this.form.querySelector('button[type="submit"]')};Q.prototype.init=function(){this.subscribeListener()},Q.prototype.subscribe=function(){var e=this.form,t=new Headers;t.append("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),fetch(this.formAction,{method:"POST",credentials:"same-origin",body:new FormData(this.form),headers:t}).then(function(t){return 200!=t.status?(e.style.opacity=0,setTimeout(function(){e.innerHTML='<p class="text-xs">Sorry, something happened.</br>Either you are already subscribed or your address isn\'t valid.</p>'},400),setTimeout(function(){e.style.opacity=1},600)):(e.style.opacity=0,setTimeout(function(){e.innerHTML='<p class="text-xs">Welcome on board!</br>We promise we won\'t spam you.</p>'},400),setTimeout(function(){e.style.opacity=1},600)),t.json()}).then(function(t){if(t.email){var n=document.createElement("div"),r=document.createTextNode("Email address already subscribed");n.appendChild(r),e.appendChild(n)}})},Q.prototype.subscribeListener=function(){var e=this;this.form.addEventListener&&this.form.addEventListener("submit",function(t){t.preventDefault(),e.subscribe()},!1)},Number.prototype.map=function(e,t,n,r){return(this-e)*(r-n)/(t-e)+n};var W,z,J,Z=0,ee=Math.round(w/2),te=document.querySelector(".productBackgroundMapper"),ne=document.body,re=f(function(){clearTimeout(W);var e=(document.documentElement||document.body.parentNode||document.body).scrollTop;if(e<ee){var t=e.map(Z,ee,0,.8);te.style.opacity=t.toFixed(1)}ne.classList.contains("disable-hover")||ne.classList.add("disable-hover"),W=setTimeout(function(){ne.classList.remove("disable-hover")},500)},30,!1);if(_){var oe=document.querySelector("section.features").offsetTop,ie=document.querySelector("section.products").offsetTop;y(document.querySelector(".scrollDown"),w),y(document.querySelector("#features a"),oe),y(document.querySelector("#models a"),ie),y(document.querySelector("#featuresMobile a"),oe),y(document.querySelector("#modelsMobile a"),ie);z=y(document.querySelector("#home a"),0),J=y(document.querySelector(".navBar__logo"),0),"features"==v().section&&h(oe,800,"easeInOutQuint")}if(document.querySelector(".otherModels__text")){y(document.querySelector(".otherModels__text"),w)}if(screen.width>3e3&&g.classList.add("highResolution"),window.onload=function(){if(!document.getElementsByTagName("body")[0].classList.contains("isMobile")&&!document.getElementsByTagName("body")[0].classList.contains("isTablet")){skrollr.init()}p(),_&&b()},n(),a(),_&&(r(),window.addEventListener("scroll",M)),S){var se=new A(".btn.addToCart","addToCart",".nav__count");se.init(),d(),document.getElementsByTagName("body")[0].classList.contains("isMobile")&&window.addEventListener("scroll",re)}if(S||_){var ae=new A(".addToRapidCart","rapidCart",".nav__count");ae.init()}var ce=new A(null,null,".nav__count");ce.init(),u("ul.infoShipping__tabs li"),l();new x(".currencySelector__currencies .currency").change(),new B(".modalRegisterLogin",".modalLogin, .modalRegister",".goToCheckOut:not(.loggedIn)",".login").init(),new B(".modalLogin",".modalRegisterLogin, .modalRegister",".nav__item__link.logIn",".signInModalLink").init(),new B(".modalRegister",".modalRegisterLogin, .modalLogin",".registerModalLink a").init(),new P("loginFormCheckout","https://bacca.online/cart/checkout").init(),new P("loginForm","https://bacca.online/").init(),new k("registerModalForm","https://bacca.online/").init(),new Q("subscriptionForm").init();if(o(),T){(new U).purchase()}if($.support.pjax&&($.pjax.defaults.timeout=12e3),V.init(),H.init(),m(),E){new K("updateProfile").init()}document.addEventListener("touchstart",function(){},!0)}(this.LaravelElixirBundle=this.LaravelElixirBundle||{});